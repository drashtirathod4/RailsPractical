<center>
    <h1>User Profile</h1>
    <% if flash[:errors] %>
        <% flash[:errors].each do |error| %>
            <p style = "color:red"><%= error %></p>
        <% end %>
    <% end %>
    
    <%= form_with(model: @user, local: false) do |form| %>
        <table cellpadding="15px">
            <tr>
                <td for="email"><%= form.label :email %></td>
                <td id="email"><%= form.email_field :email %></td>
            </tr>
            <tr style = "display: none;">
                <td for="password"><%= form.label :password %></td>
                <td id="password"><%= form.password_field :password %></td>
            </tr>
            <tr>
                <td><%= form.label :subscribe %></td>
                <td ><span id="myCheck"  onclick="addbox();"><%= form.check_box :subscription %></span></td>
            </tr>
            <tr id="area" style="display: none;">
                <td><%= form.label :subscription_email %></td>
                <td><%= form.text_area :subscription_email %></td>
            </tr>
            <tr>
                <td id="button" onClick="click();"><%= form.submit %></td>
            </tr>
            <tr>
                <td><b><%= link_to "Back", myusers_path %></b></td>
            </tr>
        </table>
    <% end %>

    <script>
        // task 1
        // function myFunction() {
        //     // document.getElementById("password").style.display = "block";
        //     toggle('password');
        // }


        // document.getElementById("email").addEventListener("click", function() {
        //     toggle('password');
        // });
        
        // task 2
        document.getElementById("myCheck").addEventListener("click", function() {
            toggle('area');
        });

        function toggle(obj) {
            var el = document.getElementById(obj);
            el.style.display = (el.style.display != 'none' ? 'none' : '' );
        }
    </script>
</center>
